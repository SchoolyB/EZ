/*
 * membership_operators.ez - Test in, not_in, and !in operators
 */

import @std
using std

do main() {
    println("=== Membership Operators Test ===")
    temp passed int = 0
    temp failed int = 0

    temp numbers [int] = {10, 20, 30, 40, 50}

    // Test 1: in operator with arrays
    if 30 in numbers {
        println("  [PASS] 30 in numbers")
        passed += 1
    } otherwise {
        println("  [FAIL] 30 should be in numbers")
        failed += 1
    }

    // Test 2: in operator negative case
    if 99 in numbers {
        println("  [FAIL] 99 should not be in numbers")
        failed += 1
    } otherwise {
        println("  [PASS] 99 not in numbers")
        passed += 1
    }

    // Test 3: not_in operator
    if 99 not_in numbers {
        println("  [PASS] 99 not_in numbers")
        passed += 1
    } otherwise {
        println("  [FAIL] 99 should be not_in numbers")
        failed += 1
    }

    // Test 4: !in shorthand
    if 99 !in numbers {
        println("  [PASS] 99 !in numbers")
        passed += 1
    } otherwise {
        println("  [FAIL] 99 should be !in numbers")
        failed += 1
    }

    // Test 5: in with range
    if 5 in range(0, 10) {
        println("  [PASS] 5 in range(0, 10)")
        passed += 1
    } otherwise {
        println("  [FAIL] 5 should be in range(0, 10)")
        failed += 1
    }

    // Test 6: not_in with range
    if 10 not_in range(0, 10) {
        println("  [PASS] 10 not_in range(0, 10) (exclusive end)")
        passed += 1
    } otherwise {
        println("  [FAIL] 10 should not be in range(0, 10)")
        failed += 1
    }

    // Test 7: in with string array
    temp fruits [string] = {"apple", "banana", "cherry"}
    if "banana" in fruits {
        println("  [PASS] banana in fruits")
        passed += 1
    } otherwise {
        println("  [FAIL] banana should be in fruits")
        failed += 1
    }

    // Test 8: !in with string array
    if "grape" !in fruits {
        println("  [PASS] grape !in fruits")
        passed += 1
    } otherwise {
        println("  [FAIL] grape should not be in fruits")
        failed += 1
    }

    // Summary
    println("")
    println("Results: ${passed} passed, ${failed} failed")

    if failed > 0 {
        println("SOME TESTS FAILED")
    } otherwise {
        println("ALL TESTS PASSED")
    }
}
