/*
 * primitives.ez - Test primitive types (int, float, string, bool, char, byte)
 */

import @std
using std

do main() {
    println("=== Primitives Test ===")
    temp passed int = 0
    temp failed int = 0

    // Test 1: int
    temp i int = 42
    if i == 42 {
        println("  [PASS] int literal")
        passed += 1
    } otherwise {
        println("  [FAIL] int literal: expected 42, got ${i}")
        failed += 1
    }

    // Test 2: negative int
    temp negative_i int = -10
    if negative_i == -10 {
        println("  [PASS] negative int")
        passed += 1
    } otherwise {
        println("  [FAIL] negative int: expected -10, got ${negative_i}")
        failed += 1
    }

    // Test 3: underscore in numbers
    temp underscore_num int = 1_000_000
    if underscore_num == 1000000 {
        println("  [PASS] underscore in int literal")
        passed += 1
    } otherwise {
        println("  [FAIL] underscore in int literal: expected 1000000, got ${underscore_num}")
        failed += 1
    }

    // Test 4: float
    temp f float = 3.14159
    if f > 3.14 && f < 3.15 {
        println("  [PASS] float literal")
        passed += 1
    } otherwise {
        println("  [FAIL] float literal: unexpected value ${f}")
        failed += 1
    }

    // Test 5: negative float
    temp negative_f float = -2.5
    if negative_f == -2.5 {
        println("  [PASS] negative float")
        passed += 1
    } otherwise {
        println("  [FAIL] negative float: expected -2.5, got ${negative_f}")
        failed += 1
    }

    // Test 6: string
    temp s string = "Hello, World!"
    if s == "Hello, World!" {
        println("  [PASS] string literal")
        passed += 1
    } otherwise {
        println("  [FAIL] string literal: unexpected value")
        failed += 1
    }

    // Test 7: empty string
    temp empty_s string = ""
    if len(empty_s) == 0 {
        println("  [PASS] empty string length")
        passed += 1
    } otherwise {
        println("  [FAIL] empty string length: expected 0, got ${len(empty_s)}")
        failed += 1
    }

    // Test 8: bool true
    temp b_true bool = true
    if b_true == true {
        println("  [PASS] bool true")
        passed += 1
    } otherwise {
        println("  [FAIL] bool true: expected true, got ${b_true}")
        failed += 1
    }

    // Test 9: bool false
    temp b_false bool = false
    if b_false == false {
        println("  [PASS] bool false")
        passed += 1
    } otherwise {
        println("  [FAIL] bool false: expected false, got ${b_false}")
        failed += 1
    }

    // Test 10: char
    temp c char = 'A'
    if c == 'A' {
        println("  [PASS] char literal")
        passed += 1
    } otherwise {
        println("  [FAIL] char literal: expected 'A', got '${c}'")
        failed += 1
    }

    // Test 11: char escape
    temp newline char = '\n'
    if int(newline) == 10 {
        println("  [PASS] char newline escape")
        passed += 1
    } otherwise {
        println("  [FAIL] char newline escape: expected code 10, got ${int(newline)}")
        failed += 1
    }

    // Test 12: byte
    temp b byte = 0xFF
    if int(b) == 255 {
        println("  [PASS] byte hex literal")
        passed += 1
    } otherwise {
        println("  [FAIL] byte hex literal: expected 255, got ${int(b)}")
        failed += 1
    }

    // Test 13: byte from decimal
    temp b2 byte = byte(128)
    if int(b2) == 128 {
        println("  [PASS] byte from decimal")
        passed += 1
    } otherwise {
        println("  [FAIL] byte from decimal: expected 128, got ${int(b2)}")
        failed += 1
    }

    // Summary
    println("")
    println("Results: ${passed} passed, ${failed} failed")

    if failed > 0 {
        println("SOME TESTS FAILED")
    } otherwise {
        println("ALL TESTS PASSED")
    }
}
