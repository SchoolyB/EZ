/*
 * raw_strings.ez - Test raw string literals using backticks
 */

import @std, @strings
using std

do main() {
    println("=== Raw Strings Test ===")
    temp passed int = 0
    temp failed int = 0

    // Test 1: raw string preserves backslashes
    temp raw1 string = `hello\nworld`
    if strings.contains(raw1, `\n`) {
        println("  [PASS] raw string preserves \\n literally")
        passed += 1
    } otherwise {
        println("  [FAIL] raw string did not preserve backslash")
        failed += 1
    }

    // Test 2: raw string preserves double quotes
    temp raw2 string = `she said "hello"`
    if strings.contains(raw2, "\"hello\"") {
        println("  [PASS] raw string preserves double quotes")
        passed += 1
    } otherwise {
        println("  [FAIL] raw string did not preserve quotes")
        failed += 1
    }

    // Test 3: raw string with path-like content
    temp raw3 string = `C:\Users\test\file.txt`
    if strings.contains(raw3, `\Users\`) {
        println("  [PASS] raw string preserves Windows path")
        passed += 1
    } otherwise {
        println("  [FAIL] raw string did not preserve path")
        failed += 1
    }

    // Test 4: raw string does not interpolate
    temp name string = "World"
    temp raw4 string = `Hello ${name}`
    if strings.contains(raw4, `${`) {
        println("  [PASS] raw string does not interpolate")
        passed += 1
    } otherwise {
        println("  [FAIL] raw string interpolated when it shouldn't")
        failed += 1
    }

    // Summary
    println("")
    println("Results: ${passed} passed, ${failed} failed")

    if failed > 0 {
        println("SOME TESTS FAILED")
    } otherwise {
        println("ALL TESTS PASSED")
    }
}
