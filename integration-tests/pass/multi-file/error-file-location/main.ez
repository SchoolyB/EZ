/*
 * Test that errors in multi-file modules show correct file location
 * Regression test for bug #466
 */
import @std
import "./utils"

using std

do main() {
    println("=== Error File Location Test ===")
    temp passed int = 0
    temp failed int = 0

    // Test that multi-file module works correctly
    temp val = utils.get_value()
    if val == 42 {
        println("  [PASS] multi-file module function call")
        passed += 1
    } otherwise {
        println("  [FAIL] multi-file module: expected 42, got ${val}")
        failed += 1
    }

    utils.print_value()
    passed += 1
    println("  [PASS] multi-file module print function")

    // Summary
    println("")
    println("Results: ${passed} passed, ${failed} failed")

    if failed > 0 {
        println("SOME TESTS FAILED")
    } otherwise {
        println("ALL TESTS PASSED")
    }
}
