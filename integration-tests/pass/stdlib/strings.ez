/*
 * strings.ez - Test @strings standard library with PROPER ASSERTIONS
 */

import @std, @strings
using std

do main() {
    println("=== @strings Standard Library Test ===")
    temp passed int = 0
    temp failed int = 0

    // ==================== strings.trim ====================
    println("  -- strings.trim --")

    // Test 1: trim both sides
    temp s string = "  hello world  "
    temp trimmed string = strings.trim(s)
    if trimmed == "hello world" {
        println("  [PASS] strings.trim('  hello world  ')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.trim: expected 'hello world', got '${trimmed}'")
        failed += 1
    }

    // Test 2: trim_left
    temp left_trimmed string = strings.trim_left(s)
    if left_trimmed == "hello world  " {
        println("  [PASS] strings.trim_left")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.trim_left: got '${left_trimmed}'")
        failed += 1
    }

    // Test 3: trim_right
    temp right_trimmed string = strings.trim_right(s)
    if right_trimmed == "  hello world" {
        println("  [PASS] strings.trim_right")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.trim_right: got '${right_trimmed}'")
        failed += 1
    }

    // ==================== strings.upper / strings.lower ====================
    println("  -- strings.upper / strings.lower --")

    // Test 4: upper
    temp upper_result string = strings.upper("Hello World")
    if upper_result == "HELLO WORLD" {
        println("  [PASS] strings.upper('Hello World')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.upper: expected 'HELLO WORLD', got '${upper_result}'")
        failed += 1
    }

    // Test 5: lower
    temp lower_result string = strings.lower("Hello World")
    if lower_result == "hello world" {
        println("  [PASS] strings.lower('Hello World')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.lower: expected 'hello world', got '${lower_result}'")
        failed += 1
    }

    // ==================== strings.split / strings.join ====================
    println("  -- strings.split / strings.join --")

    // Test 6: split
    temp csv string = "apple,banana,cherry"
    temp parts [string] = strings.split(csv, ",")
    if len(parts) == 3 && parts[0] == "apple" && parts[1] == "banana" && parts[2] == "cherry" {
        println("  [PASS] strings.split('apple,banana,cherry', ',')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.split: got ${parts}")
        failed += 1
    }

    // Test 7: join
    temp joined string = strings.join(parts, " | ")
    if joined == "apple | banana | cherry" {
        println("  [PASS] strings.join with ' | '")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.join: expected 'apple | banana | cherry', got '${joined}'")
        failed += 1
    }

    // ==================== strings.contains ====================
    println("  -- strings.contains --")

    // Test 8: contains - found
    temp hello_world string = "hello world"
    if strings.contains(hello_world, "world") == true {
        println("  [PASS] strings.contains('hello world', 'world')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.contains: expected true")
        failed += 1
    }

    // Test 9: contains - not found
    if strings.contains(hello_world, "xyz") == false {
        println("  [PASS] strings.contains('hello world', 'xyz') = false")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.contains: expected false")
        failed += 1
    }

    // ==================== strings.starts_with / strings.ends_with ====================
    println("  -- strings.starts_with / strings.ends_with --")

    // Test 10: starts_with
    if strings.starts_with("hello", "he") == true {
        println("  [PASS] strings.starts_with('hello', 'he')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.starts_with: expected true")
        failed += 1
    }

    // Test 11: starts_with - false
    if strings.starts_with("hello", "lo") == false {
        println("  [PASS] strings.starts_with('hello', 'lo') = false")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.starts_with: expected false")
        failed += 1
    }

    // Test 12: ends_with
    if strings.ends_with("hello", "lo") == true {
        println("  [PASS] strings.ends_with('hello', 'lo')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.ends_with: expected true")
        failed += 1
    }

    // ==================== strings.replace ====================
    println("  -- strings.replace --")

    // Test 13: replace
    temp replace_result string = strings.replace("hello", "l", "L")
    if replace_result == "heLLo" {
        println("  [PASS] strings.replace('hello', 'l', 'L')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.replace: expected 'heLLo', got '${replace_result}'")
        failed += 1
    }

    // ==================== strings.index / strings.last_index ====================
    println("  -- strings.index / strings.last_index --")

    // Test 14: index
    temp idx int = strings.index("hello", "l")
    if idx == 2 {
        println("  [PASS] strings.index('hello', 'l') = 2")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.index: expected 2, got ${idx}")
        failed += 1
    }

    // Test 15: last_index
    temp repeat_str string = "hello world hello"
    temp last_idx int = strings.last_index(repeat_str, "hello")
    if last_idx == 12 {
        println("  [PASS] strings.last_index('hello world hello', 'hello') = 12")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.last_index: expected 12, got ${last_idx}")
        failed += 1
    }

    // ==================== strings.slice ====================
    println("  -- strings.slice --")

    // Test 16: slice ASCII
    temp slice_result string = strings.slice("hello world", 0, 5)
    if slice_result == "hello" {
        println("  [PASS] strings.slice('hello world', 0, 5)")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.slice: expected 'hello', got '${slice_result}'")
        failed += 1
    }

    // Test 17: slice UTF-8
    temp utf8_str string = "Hello 世界"
    temp chinese_slice string = strings.slice(utf8_str, 6, 8)
    if chinese_slice == "世界" {
        println("  [PASS] strings.slice UTF-8 ('Hello 世界', 6, 8)")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.slice UTF-8: expected '世界', got '${chinese_slice}'")
        failed += 1
    }

    // ==================== strings.reverse ====================
    println("  -- strings.reverse --")

    // Test 18: reverse
    temp reversed string = strings.reverse("hello")
    if reversed == "olleh" {
        println("  [PASS] strings.reverse('hello')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.reverse: expected 'olleh', got '${reversed}'")
        failed += 1
    }

    // ==================== strings.count ====================
    println("  -- strings.count --")

    // Test 19: count occurrences
    temp count_result int = strings.count("banana", "a")
    if count_result == 3 {
        println("  [PASS] strings.count('banana', 'a') = 3")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.count: expected 3, got ${count_result}")
        failed += 1
    }

    // ==================== strings.pad_left / strings.pad_right ====================
    println("  -- strings.pad_left / strings.pad_right --")

    // Test 20: pad_left with spaces
    temp padded_left string = strings.pad_left("42", 5)
    if padded_left == "   42" && len(padded_left) == 5 {
        println("  [PASS] strings.pad_left('42', 5)")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.pad_left: expected '   42', got '${padded_left}'")
        failed += 1
    }

    // Test 21: pad_left with custom char
    temp padded_left_zero string = strings.pad_left("42", 5, "0")
    if padded_left_zero == "00042" {
        println("  [PASS] strings.pad_left('42', 5, '0')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.pad_left with '0': expected '00042', got '${padded_left_zero}'")
        failed += 1
    }

    // Test 22: pad_right
    temp padded_right string = strings.pad_right("42", 5)
    if padded_right == "42   " && len(padded_right) == 5 {
        println("  [PASS] strings.pad_right('42', 5)")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.pad_right: expected '42   ', got '${padded_right}'")
        failed += 1
    }

    // Test 23: pad with UTF-8
    temp chinese_str string = "世界"
    temp padded_chinese string = strings.pad_left(chinese_str, 5)
    if len(padded_chinese) == 5 && strings.ends_with(padded_chinese, "世界") {
        println("  [PASS] strings.pad_left UTF-8")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.pad_left UTF-8: len=${len(padded_chinese)}")
        failed += 1
    }

    // ==================== strings.repeat ====================
    println("  -- strings.repeat --")

    // Test 24: repeat
    temp repeated string = strings.repeat("ab", 3)
    if repeated == "ababab" {
        println("  [PASS] strings.repeat('ab', 3)")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.repeat: expected 'ababab', got '${repeated}'")
        failed += 1
    }

    // ==================== strings.is_empty ====================
    println("  -- strings.is_empty --")

    // Test 25: is_empty - true
    if strings.is_empty("") == true {
        println("  [PASS] strings.is_empty('')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.is_empty(''): expected true")
        failed += 1
    }

    // Test 26: is_empty - whitespace only
    if strings.is_empty("   ") == true {
        println("  [PASS] strings.is_empty('   ') (whitespace only)")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.is_empty('   '): expected true")
        failed += 1
    }

    // Test 27: is_empty - false
    if strings.is_empty("hello") == false {
        println("  [PASS] strings.is_empty('hello') = false")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.is_empty('hello'): expected false")
        failed += 1
    }

    // ==================== strings.capitalize / strings.title ====================
    println("  -- strings.capitalize / strings.title --")

    // Test 28: capitalize
    temp capitalized string = strings.capitalize("hello world")
    if capitalized == "Hello world" {
        println("  [PASS] strings.capitalize('hello world')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.capitalize: expected 'Hello world', got '${capitalized}'")
        failed += 1
    }

    // Test 29: title
    temp titled string = strings.title("hello world")
    if titled == "Hello World" {
        println("  [PASS] strings.title('hello world')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.title: expected 'Hello World', got '${titled}'")
        failed += 1
    }

    // ==================== strings.chars / strings.from_chars ====================
    println("  -- strings.chars / strings.from_chars --")

    // Test 30: chars (typechecker thinks [string] but runtime returns [char] - see #433)
    // Using untyped temp to work around typechecker bug
    temp char_arr = strings.chars("EZ")
    if len(char_arr) == 2 && char_arr[0] == 'E' && char_arr[1] == 'Z' {
        println("  [PASS] strings.chars('EZ')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.chars: got ${char_arr}")
        failed += 1
    }

    // Test 31: from_chars
    temp from_chars_arr [char] = {'E', 'Z'}
    temp from_chars_result string = strings.from_chars(from_chars_arr)
    if from_chars_result == "EZ" {
        println("  [PASS] strings.from_chars({'E', 'Z'})")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.from_chars: expected 'EZ', got '${from_chars_result}'")
        failed += 1
    }

    // ==================== strings.to_int ====================
    println("  -- strings.to_int --")

    // Test 32: to_int basic
    temp int_result int = strings.to_int("42")
    if int_result == 42 {
        println("  [PASS] strings.to_int('42')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.to_int: expected 42, got ${int_result}")
        failed += 1
    }

    // Test 33: to_int negative
    temp neg_int int = strings.to_int("-123")
    if neg_int == -123 {
        println("  [PASS] strings.to_int('-123')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.to_int negative: expected -123, got ${neg_int}")
        failed += 1
    }

    // Test 34: to_int with whitespace
    temp ws_int int = strings.to_int("  55  ")
    if ws_int == 55 {
        println("  [PASS] strings.to_int('  55  ')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.to_int with whitespace: expected 55, got ${ws_int}")
        failed += 1
    }

    // ==================== strings.to_float ====================
    println("  -- strings.to_float --")

    // Test 35: to_float basic
    temp float_result float = strings.to_float("3.14")
    if float_result == 3.14 {
        println("  [PASS] strings.to_float('3.14')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.to_float: expected 3.14, got ${float_result}")
        failed += 1
    }

    // Test 36: to_float from integer string
    temp float_from_int float = strings.to_float("42")
    if float_from_int == 42.0 {
        println("  [PASS] strings.to_float('42')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.to_float from int: expected 42.0, got ${float_from_int}")
        failed += 1
    }

    // Test 37: to_float negative
    temp neg_float float = strings.to_float("-2.5")
    if neg_float == -2.5 {
        println("  [PASS] strings.to_float('-2.5')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.to_float negative: expected -2.5, got ${neg_float}")
        failed += 1
    }

    // ==================== strings.to_bool ====================
    println("  -- strings.to_bool --")

    // Test 38: to_bool true
    temp bool_true bool = strings.to_bool("true")
    if bool_true == true {
        println("  [PASS] strings.to_bool('true')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.to_bool: expected true")
        failed += 1
    }

    // Test 39: to_bool false
    temp bool_false bool = strings.to_bool("false")
    if bool_false == false {
        println("  [PASS] strings.to_bool('false')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.to_bool: expected false")
        failed += 1
    }

    // Test 40: to_bool "1" and "0"
    temp bool_one bool = strings.to_bool("1")
    temp bool_zero bool = strings.to_bool("0")
    if bool_one == true && bool_zero == false {
        println("  [PASS] strings.to_bool('1') and strings.to_bool('0')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.to_bool with 1/0")
        failed += 1
    }

    // Test 41: to_bool "yes"/"no"
    temp bool_yes bool = strings.to_bool("yes")
    temp bool_no bool = strings.to_bool("no")
    if bool_yes == true && bool_no == false {
        println("  [PASS] strings.to_bool('yes') and strings.to_bool('no')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.to_bool with yes/no")
        failed += 1
    }

    // ==================== strings.is_alphanumeric ====================
    println("  -- strings.is_alphanumeric --")

    // Test 42: is_alphanumeric - true
    if strings.is_alphanumeric("Hello123") == true {
        println("  [PASS] strings.is_alphanumeric('Hello123')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.is_alphanumeric('Hello123'): expected true")
        failed += 1
    }

    // Test 43: is_alphanumeric - false with space
    if strings.is_alphanumeric("Hello 123") == false {
        println("  [PASS] strings.is_alphanumeric('Hello 123') = false")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.is_alphanumeric('Hello 123'): expected false")
        failed += 1
    }

    // Test 44: is_alphanumeric - empty string
    if strings.is_alphanumeric("") == false {
        println("  [PASS] strings.is_alphanumeric('') = false")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.is_alphanumeric(''): expected false")
        failed += 1
    }

    // ==================== strings.is_whitespace ====================
    println("  -- strings.is_whitespace --")

    // Test 45: is_whitespace - true
    if strings.is_whitespace("   \t\n") == true {
        println("  [PASS] strings.is_whitespace('   \\t\\n')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.is_whitespace: expected true")
        failed += 1
    }

    // Test 46: is_whitespace - false
    if strings.is_whitespace(" a ") == false {
        println("  [PASS] strings.is_whitespace(' a ') = false")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.is_whitespace(' a '): expected false")
        failed += 1
    }

    // Test 47: is_whitespace - empty string
    if strings.is_whitespace("") == false {
        println("  [PASS] strings.is_whitespace('') = false")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.is_whitespace(''): expected false")
        failed += 1
    }

    // ==================== strings.is_lowercase ====================
    println("  -- strings.is_lowercase --")

    // Test 48: is_lowercase - true
    if strings.is_lowercase("hello") == true {
        println("  [PASS] strings.is_lowercase('hello')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.is_lowercase('hello'): expected true")
        failed += 1
    }

    // Test 49: is_lowercase - with digits (still true)
    if strings.is_lowercase("hello123") == true {
        println("  [PASS] strings.is_lowercase('hello123')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.is_lowercase('hello123'): expected true")
        failed += 1
    }

    // Test 50: is_lowercase - false with uppercase
    if strings.is_lowercase("Hello") == false {
        println("  [PASS] strings.is_lowercase('Hello') = false")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.is_lowercase('Hello'): expected false")
        failed += 1
    }

    // Test 51: is_lowercase - digits only (no letters)
    if strings.is_lowercase("12345") == false {
        println("  [PASS] strings.is_lowercase('12345') = false (no letters)")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.is_lowercase('12345'): expected false")
        failed += 1
    }

    // ==================== strings.is_uppercase ====================
    println("  -- strings.is_uppercase --")

    // Test 52: is_uppercase - true
    if strings.is_uppercase("HELLO") == true {
        println("  [PASS] strings.is_uppercase('HELLO')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.is_uppercase('HELLO'): expected true")
        failed += 1
    }

    // Test 53: is_uppercase - with digits (still true)
    if strings.is_uppercase("HELLO123") == true {
        println("  [PASS] strings.is_uppercase('HELLO123')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.is_uppercase('HELLO123'): expected true")
        failed += 1
    }

    // Test 54: is_uppercase - false with lowercase
    if strings.is_uppercase("Hello") == false {
        println("  [PASS] strings.is_uppercase('Hello') = false")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.is_uppercase('Hello'): expected false")
        failed += 1
    }

    // ==================== strings.is_ascii ====================
    println("  -- strings.is_ascii --")

    // Test 55: is_ascii - true
    if strings.is_ascii("Hello, World!") == true {
        println("  [PASS] strings.is_ascii('Hello, World!')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.is_ascii('Hello, World!'): expected true")
        failed += 1
    }

    // Test 56: is_ascii - false with unicode
    if strings.is_ascii("Hello 世界") == false {
        println("  [PASS] strings.is_ascii('Hello 世界') = false")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.is_ascii('Hello 世界'): expected false")
        failed += 1
    }

    // Test 57: is_ascii - empty string (true)
    if strings.is_ascii("") == true {
        println("  [PASS] strings.is_ascii('') = true")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.is_ascii(''): expected true")
        failed += 1
    }

    // ==================== strings.lines ====================
    println("  -- strings.lines --")

    // Test 58: lines - unix newlines
    temp lines_result [string] = strings.lines("a\nb\nc")
    if len(lines_result) == 3 && lines_result[0] == "a" && lines_result[1] == "b" && lines_result[2] == "c" {
        println("  [PASS] strings.lines('a\\nb\\nc')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.lines: got ${lines_result}")
        failed += 1
    }

    // Test 59: lines - single line
    temp single_line [string] = strings.lines("hello")
    if len(single_line) == 1 && single_line[0] == "hello" {
        println("  [PASS] strings.lines('hello') single line")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.lines single line: got ${single_line}")
        failed += 1
    }

    // ==================== strings.words ====================
    println("  -- strings.words --")

    // Test 60: words - simple
    temp words_result [string] = strings.words("hello world")
    if len(words_result) == 2 && words_result[0] == "hello" && words_result[1] == "world" {
        println("  [PASS] strings.words('hello world')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.words: got ${words_result}")
        failed += 1
    }

    // Test 61: words - multiple spaces
    temp words_multi [string] = strings.words("  foo   bar  ")
    if len(words_multi) == 2 && words_multi[0] == "foo" && words_multi[1] == "bar" {
        println("  [PASS] strings.words('  foo   bar  ')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.words multi-space: got ${words_multi}")
        failed += 1
    }

    // Test 62: words - empty string
    temp words_empty [string] = strings.words("")
    if len(words_empty) == 0 {
        println("  [PASS] strings.words('') = []")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.words empty: got ${words_empty}")
        failed += 1
    }

    // ==================== strings.char_at ====================
    println("  -- strings.char_at --")

    // Test 63: char_at - positive index
    temp char_result string = strings.char_at("hello", 0)
    if char_result == "h" {
        println("  [PASS] strings.char_at('hello', 0) = 'h'")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.char_at: expected 'h', got '${char_result}'")
        failed += 1
    }

    // Test 64: char_at - negative index
    temp char_neg string = strings.char_at("hello", -1)
    if char_neg == "o" {
        println("  [PASS] strings.char_at('hello', -1) = 'o'")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.char_at negative: expected 'o', got '${char_neg}'")
        failed += 1
    }

    // Test 65: char_at - unicode
    temp char_unicode string = strings.char_at("世界", 1)
    if char_unicode == "界" {
        println("  [PASS] strings.char_at('世界', 1) = '界'")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.char_at unicode: expected '界', got '${char_unicode}'")
        failed += 1
    }

    // ==================== strings.insert ====================
    println("  -- strings.insert --")

    // Test 66: insert at beginning
    temp insert_begin string = strings.insert("world", 0, "hello ")
    if insert_begin == "hello world" {
        println("  [PASS] strings.insert('world', 0, 'hello ')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.insert begin: expected 'hello world', got '${insert_begin}'")
        failed += 1
    }

    // Test 67: insert at end
    temp insert_end string = strings.insert("hello", 5, " world")
    if insert_end == "hello world" {
        println("  [PASS] strings.insert('hello', 5, ' world')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.insert end: expected 'hello world', got '${insert_end}'")
        failed += 1
    }

    // Test 68: insert in middle
    temp insert_mid string = strings.insert("hllo", 1, "e")
    if insert_mid == "hello" {
        println("  [PASS] strings.insert('hllo', 1, 'e')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.insert middle: expected 'hello', got '${insert_mid}'")
        failed += 1
    }

    // ==================== strings.center ====================
    println("  -- strings.center --")

    // Test 69: center with default pad
    temp center_default string = strings.center("hi", 6)
    if center_default == "  hi  " {
        println("  [PASS] strings.center('hi', 6)")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.center default: expected '  hi  ', got '${center_default}'")
        failed += 1
    }

    // Test 70: center with custom pad
    temp center_custom string = strings.center("hi", 10, "*")
    if center_custom == "****hi****" {
        println("  [PASS] strings.center('hi', 10, '*')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.center custom: expected '****hi****', got '${center_custom}'")
        failed += 1
    }

    // Test 71: center - already wider
    temp center_wider string = strings.center("hello", 3)
    if center_wider == "hello" {
        println("  [PASS] strings.center('hello', 3) = 'hello' (unchanged)")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.center wider: expected 'hello', got '${center_wider}'")
        failed += 1
    }

    // ==================== strings.remove ====================
    println("  -- strings.remove --")

    // Test 72: remove first occurrence
    temp remove_first string = strings.remove("hello hello", "hello")
    if remove_first == " hello" {
        println("  [PASS] strings.remove('hello hello', 'hello')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.remove: expected ' hello', got '${remove_first}'")
        failed += 1
    }

    // Test 73: remove not found
    temp remove_none string = strings.remove("hello", "xyz")
    if remove_none == "hello" {
        println("  [PASS] strings.remove('hello', 'xyz') = 'hello' (unchanged)")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.remove not found: expected 'hello', got '${remove_none}'")
        failed += 1
    }

    // ==================== strings.remove_all ====================
    println("  -- strings.remove_all --")

    // Test 74: remove all occurrences
    temp remove_all_result string = strings.remove_all("banana", "a")
    if remove_all_result == "bnn" {
        println("  [PASS] strings.remove_all('banana', 'a')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.remove_all: expected 'bnn', got '${remove_all_result}'")
        failed += 1
    }

    // Test 75: remove_all - multiple word occurrences
    temp remove_all_words string = strings.remove_all("hello hello hello", "hello")
    if remove_all_words == "  " {
        println("  [PASS] strings.remove_all('hello hello hello', 'hello')")
        passed += 1
    } otherwise {
        println("  [FAIL] strings.remove_all words: expected '  ', got '${remove_all_words}'")
        failed += 1
    }

    // Summary
    println("")
    println("Results: ${passed} passed, ${failed} failed")

    if failed > 0 {
        println("SOME TESTS FAILED")
    } otherwise {
        println("ALL TESTS PASSED")
    }
}
