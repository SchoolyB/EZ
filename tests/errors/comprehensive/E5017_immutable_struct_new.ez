/*
 * E5017: Cannot modify field of immutable struct created with new()
 * Expected: "cannot modify field of const struct"
 *
 * This tests that const structs created via new() are immutable.
 * Fix for issue #298: struct mutability now respects temp/const.
 */

const Person struct {
    name string
    age int
}

do main() {
    const p Person = new(Person)
    p.name = "Alice"  // ERROR: cannot modify field of const struct
}
